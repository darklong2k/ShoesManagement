@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<form class="row g-3">
    <div class="col-md-6">
        <label for="username" class="form-label">Username</label>
        <input type="text" class="form-control" id="username">
    </div>
    <div class="col-md-6">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password">
    </div>
    <div class="col-md-6">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name">
    </div>
    <div class="col-md-6">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email">
    </div>
    <div class="col-md-6">
        <label for="phone" class="form-label">Phone</label>
        <input type="text" class="form-control" id="phone">
    </div>

    <div class="col-md-6 d-flex gap-3 align-items-center">
        <div class="form-check">
            <input class="form-check-input" type="radio" name="gender" id="maleRadio">
            <label class="form-check-label" for="maleRadio">
                Male
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="gender" id="femaleRadio" checked>
            <label class="form-check-label" for="femaleRadio">
                Female
            </label>
        </div>
    </div>

    <div class="col">
        <label for="inputCity" class="form-label">Tỉnh/Thành</label>
        <select name="" class="form-select inputCity">
            <option>Chọn</option>
        </select>
    </div>
    <div class="col">
        <label for="inputDistrict" class="form-label">Quận/Huyện</label>
        <select class="form-select inputDistrict">
            <option>Chọn</option>
        </select>
    </div>
    <div class="col">
        <label for="inputWard" class="form-label">Phường/Xã</label>
        <select class="form-select inputWard">
            <option>Chọn</option>
        </select>
    </div>
    <div class="col-12">
        <label for="inputAddress" class="form-label">Address</label>
        <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
    </div>

    <div class="col-12">
        <button type="submit" class="btn btn-primary">Sign in</button>
    </div>
</form>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
<script>
    $(document).ready(function () {
        const $inputCity = $(".inputCity");
        const $inputDistrict = $(".inputDistrict");
        const $inputWard = $(".inputWard");

        const getProvince = async () => {
            const url = "https://provinces.open-api.vn/api";
            const response = await fetch(url);
            return await response.json();
        };

        const getDistrict = async () => {
            const url = "https://provinces.open-api.vn/api/d/";
            const response = await fetch(url);
            return await response.json();
        };

        const getWard = async () => {
            const url = "https://provinces.open-api.vn/api/w/";
            const response = await fetch(url);
            return await response.json();
        };

        const loadInputCity = async () => {
            const provinces = await getProvince();
            provinces.forEach((province) => {
                $inputCity.append(
                    $("<option>")
                        .val(province.code)
                        .text(province.name)
                );
            });
        };

        $inputCity.on("change", async function () {
            const districts = await getDistrict();
            $inputDistrict.html("<option value=''>Chọn</option>");
            const selectedValue = $(this).val();

            districts.forEach((district) => {
                if (parseInt(district.province_code) === parseInt(selectedValue)) {
                    $inputDistrict.append(
                        $("<option>")
                            .val(district.code)
                            .text(district.name)
                    );
                }
            });
        });

        $inputDistrict.on("change", async function () {
            const wards = await getWard();
            $inputWard.html("<option value=''>Chọn</option>");
            const selectedValue = $(this).val();

            wards.forEach((ward) => {
                if (parseInt(ward.district_code) === parseInt(selectedValue)) {
                    $inputWard.append(
                        $("<option>")
                            .val(ward.code)
                            .text(ward.name)
                    );
                }
            });
        });

        loadInputCity();
    });

</script>